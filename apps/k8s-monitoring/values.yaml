k8s-monitoring:
  cluster:
    name: monitoring-lab

  # Destinations - where to send telemetry
  destinations:
    - name: prometheus
      type: prometheus
      url: http://prometheus-server.monitoring.svc:80/api/v1/write
    - name: loki
      type: loki
      url: http://loki.monitoring.svc:3100/loki/api/v1/push

  # Collectors - must explicitly enable
  alloy-metrics:
    enabled: true
  alloy-logs:
    enabled: true
  alloy-singleton:
    enabled: true

  # Feature: Cluster Metrics
  clusterMetrics:
    enabled: true

  # Feature: Pod Logs
  podLogs:
    enabled: true
    destinations:
      - loki

  # Feature: Cluster Events (optional - sends events as logs)
  clusterEvents:
    enabled: true
    destinations:
      - loki

  # Disable components we're deploying separately
  prometheus:
    enabled: false

  loki:
    enabled: false

  grafana:
    enabled: false
